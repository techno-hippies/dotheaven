(function(){"use strict";let _,x=null;function A(){return(x===null||x.byteLength===0)&&(x=new Uint8Array(_.memory.buffer)),x}let C=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});C.decode();const J=2146435072;let B=0;function Y(n,e){return B+=e,B>=J&&(C=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),C.decode(),B=e),C.decode(A().subarray(n,n+e))}function g(n,e){return n=n>>>0,Y(n,e)}let i=0;const M=new TextEncoder;"encodeInto"in M||(M.encodeInto=function(n,e){const t=M.encode(n);return e.set(t),{read:n.length,written:t.length}});function f(n,e,t){if(t===void 0){const d=M.encode(n),I=e(d.length,1)>>>0;return A().subarray(I,I+d.length).set(d),i=d.length,I}let r=n.length,o=e(r,1)>>>0;const s=A();let u=0;for(;u<r;u++){const d=n.charCodeAt(u);if(d>127)break;s[o+u]=d}if(u!==r){u!==0&&(n=n.slice(u)),o=t(o,r,r=u+n.length*3,1)>>>0;const d=A().subarray(o+u,o+r),I=M.encodeInto(n,d);u+=I.written,o=t(o,r,u,1)>>>0}return i=u,o}let R=null;function l(){return(R===null||R.buffer.detached===!0||R.buffer.detached===void 0&&R.buffer!==_.memory.buffer)&&(R=new DataView(_.memory.buffer)),R}function c(n){return n==null}function z(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const o=n.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=n.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(n)){const o=n.length;let s="[";o>0&&(s+=z(n[0]));for(let u=1;u<o;u++)s+=", "+z(n[u]);return s+="]",s}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(t&&t.length>1)r=t[1];else return toString.call(n);if(r=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:r}function w(n){const e=_.__externref_table_alloc();return _.__wbindgen_externrefs.set(e,n),e}function b(n,e){try{return n.apply(this,e)}catch(t){const r=w(t);_.__wbindgen_exn_store(r)}}function F(n,e){return n=n>>>0,A().subarray(n/1,n/1+e)}function y(n,e){n=n>>>0;const t=l(),r=[];for(let o=n;o<n+4*e;o+=4)r.push(_.__wbindgen_externrefs.get(t.getUint32(o,!0)));return _.__externref_drop_slice(n,e),r}const j=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>n.dtor(n.a,n.b));function E(n,e,t,r){const o={a:n,b:e,cnt:1,dtor:t},s=(...u)=>{o.cnt++;const d=o.a;o.a=0;try{return r(d,o.b,...u)}finally{o.a=d,s._wbg_cb_unref()}};return s._wbg_cb_unref=()=>{--o.cnt===0&&(o.dtor(o.a,o.b),o.a=0,j.unregister(o))},j.register(s,o,o),s}function p(n,e){const t=e(n.length*4,4)>>>0;for(let r=0;r<n.length;r++){const o=w(n[r]);l().setUint32(t+4*r,o,!0)}return i=n.length,t}function a(n){const e=_.__wbindgen_externrefs.get(n);return _.__externref_table_dealloc(n),e}function O(n,e){if(!(n instanceof e))throw new Error(`expected instance of ${e.name}`)}function X(){return _.opfsPoolCapacity()}function Q(){return _.opfsClearAll()}function Z(){return _.opfsFileCount()}function ee(n){const e=f(n,_.__wbindgen_malloc,_.__wbindgen_realloc),t=i;return _.opfsFileExists(e,t)}function te(n){const e=f(n,_.__wbindgen_malloc,_.__wbindgen_realloc),t=i;return _.opfsDeleteFile(e,t)}function ne(n,e){const t=f(n,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.opfsImportDb(t,r,e)}function re(n){const e=f(n,_.__wbindgen_malloc,_.__wbindgen_realloc),t=i;return _.opfsExportDb(e,t)}function _e(){return _.opfsInit()}function oe(){return _.opfsListFiles()}function se(n,e,t){_.wasm_bindgen__convert__closures_____invoke__hdff293b41f2cecc6(n,e,t)}function ie(n,e){_.wasm_bindgen__convert__closures_____invoke__hceddd2b8fc291040(n,e)}function ce(n,e){_.wasm_bindgen__convert__closures_____invoke__h6af3cd86eb56f4b1(n,e)}function ae(n,e){_.wasm_bindgen__convert__closures_____invoke__h956b60152b2cf005(n,e)}function be(n,e,t,r){_.wasm_bindgen__convert__closures_____invoke__h47a8fb56fc48c5fb(n,e,t,r)}const ge=["","no-referrer","no-referrer-when-downgrade","origin","origin-when-cross-origin","unsafe-url","same-origin","strict-origin","strict-origin-when-cross-origin"],ue=["default","no-store","reload","no-cache","force-cache","only-if-cached"],fe=["omit","same-origin","include"],we=["same-origin","no-cors","cors","navigate"],de=["follow","error","manual"];typeof FinalizationRegistry>"u"||new FinalizationRegistry(n=>_.__wbg_authhandle_free(n>>>0,1));const P=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_client_free(n>>>0,1));class D{static __wrap(e){e=e>>>0;const t=Object.create(D.prototype);return t.__wbg_ptr=e,P.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,P.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_client_free(e,0)}inboxState(e){return _.client_inboxState(this.__wbg_ptr,e)}getLatestInboxState(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.client_getLatestInboxState(this.__wbg_ptr,t,r)}getKeyPackageStatusesForInstallationIds(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.client_getKeyPackageStatusesForInstallationIds(this.__wbg_ptr,t,r)}getConsentState(e,t){const r=f(t,_.__wbindgen_malloc,_.__wbindgen_realloc),o=i;return _.client_getConsentState(this.__wbg_ptr,e,r,o)}setConsentStates(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.client_setConsentStates(this.__wbg_ptr,t,r)}registerIdentity(e){O(e,S);var t=e.__destroy_into_raw();return _.client_registerIdentity(this.__wbg_ptr,t)}applySignatureRequest(e){return O(e,S),_.client_applySignatureRequest(this.__wbg_ptr,e.__wbg_ptr)}signWithInstallationKey(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i,o=_.client_signWithInstallationKey(this.__wbg_ptr,t,r);if(o[2])throw a(o[1]);return a(o[0])}createInboxSignatureRequest(){const e=_.client_createInboxSignatureRequest(this.__wbg_ptr);if(e[2])throw a(e[1]);return e[0]===0?void 0:S.__wrap(e[0])}addWalletSignatureRequest(e){return _.client_addWalletSignatureRequest(this.__wbg_ptr,e)}revokeWalletSignatureRequest(e){return _.client_revokeWalletSignatureRequest(this.__wbg_ptr,e)}verifySignedWithInstallationKey(e,t){const r=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),o=i,s=_.client_verifySignedWithInstallationKey(this.__wbg_ptr,r,o,t);if(s[1])throw a(s[0])}revokeInstallationsSignatureRequest(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.client_revokeInstallationsSignatureRequest(this.__wbg_ptr,t,r)}changeRecoveryIdentifierSignatureRequest(e){return _.client_changeRecoveryIdentifierSignatureRequest(this.__wbg_ptr,e)}revokeAllOtherInstallationsSignatureRequest(){return _.client_revokeAllOtherInstallationsSignatureRequest(this.__wbg_ptr)}get appVersion(){let e,t;try{const r=_.client_appVersion(this.__wbg_ptr);return e=r[0],t=r[1],g(r[0],r[1])}finally{_.__wbindgen_free(e,t,1)}}canMessage(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.client_canMessage(this.__wbg_ptr,t,r)}conversations(){const e=_.client_conversations(this.__wbg_ptr);return k.__wrap(e)}get isRegistered(){return _.client_isRegistered(this.__wbg_ptr)!==0}apiStatistics(){return _.client_apiStatistics(this.__wbg_ptr)}get installationId(){let e,t;try{const r=_.client_installationId(this.__wbg_ptr);return e=r[0],t=r[1],g(r[0],r[1])}finally{_.__wbindgen_free(e,t,1)}}get libxmtpVersion(){let e,t;try{const r=_.client_libxmtpVersion(this.__wbg_ptr);return e=r[0],t=r[1],g(r[0],r[1])}finally{_.__wbindgen_free(e,t,1)}}syncPreferences(){return _.client_syncPreferences(this.__wbg_ptr)}sendSyncRequest(){return _.client_sendSyncRequest(this.__wbg_ptr)}get accountIdentifier(){return _.client_accountIdentifier(this.__wbg_ptr)}clearAllStatistics(){_.client_clearAllStatistics(this.__wbg_ptr)}get installationIdBytes(){return _.client_installationIdBytes(this.__wbg_ptr)}apiIdentityStatistics(){return _.client_apiIdentityStatistics(this.__wbg_ptr)}apiAggregateStatistics(){let e,t;try{const r=_.client_apiAggregateStatistics(this.__wbg_ptr);return e=r[0],t=r[1],g(r[0],r[1])}finally{_.__wbindgen_free(e,t,1)}}inboxStateFromInboxIds(e,t){const r=p(e,_.__wbindgen_malloc),o=i;return _.client_inboxStateFromInboxIds(this.__wbg_ptr,r,o,t)}findInboxIdByIdentifier(e){return _.client_findInboxIdByIdentifier(this.__wbg_ptr,e)}get inboxId(){let e,t;try{const r=_.client_inboxId(this.__wbg_ptr);return e=r[0],t=r[1],g(r[0],r[1])}finally{_.__wbindgen_free(e,t,1)}}}Symbol.dispose&&(D.prototype[Symbol.dispose]=D.prototype.free);const U=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_conversation_free(n>>>0,1));class h{static __wrap(e){e=e>>>0;const t=Object.create(h.prototype);return t.__wbg_ptr=e,U.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,U.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_conversation_free(e,0)}adminList(){const e=_.conversation_adminList(this.__wbg_ptr);if(e[3])throw a(e[2]);var t=y(e[0],e[1]).slice();return _.__wbindgen_free(e[0],e[1]*4,4),t}getDebugInfo(){return _.conversation_getDebugInfo(this.__wbg_ptr)}groupName(){let e,t;try{const s=_.conversation_groupName(this.__wbg_ptr);var r=s[0],o=s[1];if(s[3])throw r=0,o=0,a(s[2]);return e=r,t=o,g(r,o)}finally{_.__wbindgen_free(e,t,1)}}sendReply(e,t){return _.conversation_sendReply(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}addMembers(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.conversation_addMembers(this.__wbg_ptr,t,r)}leaveGroup(){return _.conversation_leaveGroup(this.__wbg_ptr)}sendIntent(e,t){return _.conversation_sendIntent(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}listMembers(){return _.conversation_listMembers(this.__wbg_ptr)}removeAdmin(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_removeAdmin(this.__wbg_ptr,t,r)}sendActions(e,t){return _.conversation_sendActions(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}createdAtNs(){return _.conversation_createdAtNs(this.__wbg_ptr)}findMessages(e){return _.conversation_findMessages(this.__wbg_ptr,c(e)?0:w(e))}getHmacKeys(){const e=_.conversation_getHmacKeys(this.__wbg_ptr);if(e[2])throw a(e[1]);return a(e[0])}sendMarkdown(e,t){const r=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),o=i;return _.conversation_sendMarkdown(this.__wbg_ptr,r,o,c(t)?16777215:t?1:0)}sendReaction(e,t){return _.conversation_sendReaction(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}countMessages(e){return _.conversation_countMessages(this.__wbg_ptr,c(e)?0:w(e))}groupMetadata(){return _.conversation_groupMetadata(this.__wbg_ptr)}isSuperAdmin(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i,o=_.conversation_isSuperAdmin(this.__wbg_ptr,t,r);if(o[2])throw a(o[1]);return o[0]!==0}removeMembers(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.conversation_removeMembers(this.__wbg_ptr,t,r)}addSuperAdmin(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_addSuperAdmin(this.__wbg_ptr,t,r)}sendAttachment(e,t){return _.conversation_sendAttachment(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}sendOptimistic(e,t){let r,o;try{const d=_.conversation_sendOptimistic(this.__wbg_ptr,e,t);var s=d[0],u=d[1];if(d[3])throw s=0,u=0,a(d[2]);return r=s,o=u,g(s,u)}finally{_.__wbindgen_free(r,o,1)}}updateAppData(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_updateAppData(this.__wbg_ptr,t,r)}dmPeerInboxId(){let e,t;try{const s=_.conversation_dmPeerInboxId(this.__wbg_ptr);var r=s[0],o=s[1];if(s[3])throw r=0,o=0,a(s[2]);return e=r,t=o,g(r,o)}finally{_.__wbindgen_free(e,t,1)}}membershipState(){const e=_.conversation_membershipState(this.__wbg_ptr);if(e[2])throw a(e[1]);return e[0]}publishMessages(){return _.conversation_publishMessages(this.__wbg_ptr)}superAdminList(){const e=_.conversation_superAdminList(this.__wbg_ptr);if(e[3])throw a(e[2]);var t=y(e[0],e[1]).slice();return _.__wbindgen_free(e[0],e[1]*4,4),t}addedByInboxId(){let e,t;try{const s=_.conversation_addedByInboxId(this.__wbg_ptr);var r=s[0],o=s[1];if(s[3])throw r=0,o=0,a(s[2]);return e=r,t=o,g(r,o)}finally{_.__wbindgen_free(e,t,1)}}groupDescription(){let e,t;try{const s=_.conversation_groupDescription(this.__wbg_ptr);var r=s[0],o=s[1];if(s[3])throw r=0,o=0,a(s[2]);return e=r,t=o,g(r,o)}finally{_.__wbindgen_free(e,t,1)}}groupPermissions(){const e=_.conversation_groupPermissions(this.__wbg_ptr);if(e[2])throw a(e[1]);return a(e[0])}sendReadReceipt(e){return _.conversation_sendReadReceipt(this.__wbg_ptr,c(e)?16777215:e?1:0)}updateGroupName(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_updateGroupName(this.__wbg_ptr,t,r)}findDuplicateDms(){return _.conversation_findDuplicateDms(this.__wbg_ptr)}pausedForVersion(){const e=_.conversation_pausedForVersion(this.__wbg_ptr);if(e[3])throw a(e[2]);let t;return e[0]!==0&&(t=g(e[0],e[1]).slice(),_.__wbindgen_free(e[0],e[1]*1,1)),t}removeSuperAdmin(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_removeSuperAdmin(this.__wbg_ptr,t,r)}getLastReadTimes(){return _.conversation_getLastReadTimes(this.__wbg_ptr)}findEnrichedMessages(e){return _.conversation_findEnrichedMessages(this.__wbg_ptr,c(e)?0:w(e))}groupImageUrlSquare(){let e,t;try{const s=_.conversation_groupImageUrlSquare(this.__wbg_ptr);var r=s[0],o=s[1];if(s[3])throw r=0,o=0,a(s[2]);return e=r,t=o,g(r,o)}finally{_.__wbindgen_free(e,t,1)}}sendRemoteAttachment(e,t){return _.conversation_sendRemoteAttachment(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}sendWalletSendCalls(e,t){return _.conversation_sendWalletSendCalls(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}addMembersByInboxId(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.conversation_addMembersByInboxId(this.__wbg_ptr,t,r)}updateGroupDescription(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_updateGroupDescription(this.__wbg_ptr,t,r)}updatePermissionPolicy(e,t,r){return _.conversation_updatePermissionPolicy(this.__wbg_ptr,e,t,c(r)?6:r)}removeMembersByInboxId(e){const t=p(e,_.__wbindgen_malloc),r=i;return _.conversation_removeMembersByInboxId(this.__wbg_ptr,t,r)}sendTransactionReference(e,t){return _.conversation_sendTransactionReference(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}findMessagesWithReactions(e){return _.conversation_findMessagesWithReactions(this.__wbg_ptr,c(e)?0:w(e))}sendMultiRemoteAttachment(e,t){return _.conversation_sendMultiRemoteAttachment(this.__wbg_ptr,e,c(t)?16777215:t?1:0)}messageDisappearingSettings(){const e=_.conversation_messageDisappearingSettings(this.__wbg_ptr);if(e[2])throw a(e[1]);return a(e[0])}updateGroupImageUrlSquare(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_updateGroupImageUrlSquare(this.__wbg_ptr,t,r)}id(){let e,t;try{const r=_.conversation_id(this.__wbg_ptr);return e=r[0],t=r[1],g(r[0],r[1])}finally{_.__wbindgen_free(e,t,1)}}processStreamedGroupMessage(e){return _.conversation_processStreamedGroupMessage(this.__wbg_ptr,e)}isMessageDisappearingEnabled(){const e=_.conversation_isMessageDisappearingEnabled(this.__wbg_ptr);if(e[2])throw a(e[1]);return e[0]!==0}removeMessageDisappearingSettings(){return _.conversation_removeMessageDisappearingSettings(this.__wbg_ptr)}updateMessageDisappearingSettings(e){return _.conversation_updateMessageDisappearingSettings(this.__wbg_ptr,e)}send(e,t){return _.conversation_send(this.__wbg_ptr,e,t)}sync(){return _.conversation_sync(this.__wbg_ptr)}stream(e){const t=_.conversation_stream(this.__wbg_ptr,e);if(t[2])throw a(t[1]);return m.__wrap(t[0])}appData(){let e,t;try{const s=_.conversation_appData(this.__wbg_ptr);var r=s[0],o=s[1];if(s[3])throw r=0,o=0,a(s[2]);return e=r,t=o,g(r,o)}finally{_.__wbindgen_free(e,t,1)}}isAdmin(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i,o=_.conversation_isAdmin(this.__wbg_ptr,t,r);if(o[2])throw a(o[1]);return o[0]!==0}addAdmin(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversation_addAdmin(this.__wbg_ptr,t,r)}isActive(){const e=_.conversation_isActive(this.__wbg_ptr);if(e[2])throw a(e[1]);return e[0]!==0}sendText(e,t){const r=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),o=i;return _.conversation_sendText(this.__wbg_ptr,r,o,c(t)?16777215:t?1:0)}consentState(){const e=_.conversation_consentState(this.__wbg_ptr);if(e[2])throw a(e[1]);return e[0]}updateConsentState(e){const t=_.conversation_updateConsentState(this.__wbg_ptr,e);if(t[1])throw a(t[0])}}Symbol.dispose&&(h.prototype[Symbol.dispose]=h.prototype.free);const L=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_conversationlistitem_free(n>>>0,1));class T{static __wrap(e){e=e>>>0;const t=Object.create(T.prototype);return t.__wbg_ptr=e,L.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,L.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_conversationlistitem_free(e,0)}get conversation(){const e=_.__wbg_get_conversationlistitem_conversation(this.__wbg_ptr);return h.__wrap(e)}set conversation(e){O(e,h);var t=e.__destroy_into_raw();_.__wbg_set_conversationlistitem_conversation(this.__wbg_ptr,t)}get lastMessage(){return _.__wbg_get_conversationlistitem_lastMessage(this.__wbg_ptr)}set lastMessage(e){_.__wbg_set_conversationlistitem_lastMessage(this.__wbg_ptr,c(e)?0:w(e))}get isCommitLogForked(){const e=_.__wbg_get_conversationlistitem_isCommitLogForked(this.__wbg_ptr);return e===16777215?void 0:e!==0}set isCommitLogForked(e){_.__wbg_set_conversationlistitem_isCommitLogForked(this.__wbg_ptr,c(e)?16777215:e?1:0)}constructor(e,t,r){O(e,h);var o=e.__destroy_into_raw();const s=_.conversationlistitem_new(o,c(t)?0:w(t),c(r)?16777215:r?1:0);return this.__wbg_ptr=s>>>0,L.register(this,this.__wbg_ptr,this),this}}Symbol.dispose&&(T.prototype[Symbol.dispose]=T.prototype.free);const G=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_conversations_free(n>>>0,1));class k{static __wrap(e){e=e>>>0;const t=Object.create(k.prototype);return t.__wbg_ptr=e,G.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,G.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_conversations_free(e,0)}createGroup(e,t){const r=p(e,_.__wbindgen_malloc),o=i;return _.conversations_createGroup(this.__wbg_ptr,r,o,c(t)?0:w(t))}getHmacKeys(){const e=_.conversations_getHmacKeys(this.__wbg_ptr);if(e[2])throw a(e[1]);return a(e[0])}streamConsent(e){const t=_.conversations_streamConsent(this.__wbg_ptr,e);if(t[2])throw a(t[1]);return m.__wrap(t[0])}findGroupById(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i,o=_.conversations_findGroupById(this.__wbg_ptr,t,r);if(o[2])throw a(o[1]);return h.__wrap(o[0])}createDm(e,t){return _.conversations_createDm(this.__wbg_ptr,e,c(t)?0:w(t))}findMessageById(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i,o=_.conversations_findMessageById(this.__wbg_ptr,t,r);if(o[2])throw a(o[1]);return a(o[0])}streamPreferences(e){const t=_.conversations_streamPreferences(this.__wbg_ptr,e);if(t[2])throw a(t[1]);return m.__wrap(t[0])}streamAllMessages(e,t,r){var o=c(r)?0:p(r,_.__wbindgen_malloc),s=i;const u=_.conversations_streamAllMessages(this.__wbg_ptr,e,c(t)?4:t,o,s);if(u[2])throw a(u[1]);return m.__wrap(u[0])}deleteMessageById(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i,o=_.conversations_deleteMessageById(this.__wbg_ptr,t,r);if(o[2])throw a(o[1]);return o[0]>>>0}syncAllConversations(e){var t=c(e)?0:p(e,_.__wbindgen_malloc),r=i;return _.conversations_syncAllConversations(this.__wbg_ptr,t,r)}createGroupOptimistic(e){const t=_.conversations_createGroupOptimistic(this.__wbg_ptr,c(e)?0:w(e));if(t[2])throw a(t[1]);return h.__wrap(t[0])}streamMessageDeletions(e){const t=_.conversations_streamMessageDeletions(this.__wbg_ptr,e);if(t[2])throw a(t[1]);return m.__wrap(t[0])}createGroupByInboxIds(e,t){const r=p(e,_.__wbindgen_malloc),o=i;return _.conversations_createGroupByInboxIds(this.__wbg_ptr,r,o,c(t)?0:w(t))}findDmByTargetInboxId(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i,o=_.conversations_findDmByTargetInboxId(this.__wbg_ptr,t,r);if(o[2])throw a(o[1]);return h.__wrap(o[0])}streamLocal(e){return _.conversations_streamLocal(this.__wbg_ptr,c(e)?4:e)}findEnrichedMessageById(e){const t=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=i;return _.conversations_findEnrichedMessageById(this.__wbg_ptr,t,r)}createDmByInboxId(e,t){const r=f(e,_.__wbindgen_malloc,_.__wbindgen_realloc),o=i;return _.conversations_createDmByInboxId(this.__wbg_ptr,r,o,c(t)?0:w(t))}list(e){const t=_.conversations_list(this.__wbg_ptr,c(e)?0:w(e));if(t[2])throw a(t[1]);return a(t[0])}sync(){return _.conversations_sync(this.__wbg_ptr)}stream(e,t){const r=_.conversations_stream(this.__wbg_ptr,e,c(t)?4:t);if(r[2])throw a(r[1]);return m.__wrap(r[0])}}Symbol.dispose&&(k.prototype[Symbol.dispose]=k.prototype.free),typeof FinalizationRegistry>"u"||new FinalizationRegistry(n=>_.__wbg_intounderlyingbytesource_free(n>>>0,1)),typeof FinalizationRegistry>"u"||new FinalizationRegistry(n=>_.__wbg_intounderlyingsink_free(n>>>0,1));const V=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_intounderlyingsource_free(n>>>0,1));class q{static __wrap(e){e=e>>>0;const t=Object.create(q.prototype);return t.__wbg_ptr=e,V.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,V.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_intounderlyingsource_free(e,0)}pull(e){return _.intounderlyingsource_pull(this.__wbg_ptr,e)}cancel(){const e=this.__destroy_into_raw();_.intounderlyingsource_cancel(e)}}Symbol.dispose&&(q.prototype[Symbol.dispose]=q.prototype.free);const N=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_signaturerequesthandle_free(n>>>0,1));class S{static __wrap(e){e=e>>>0;const t=Object.create(S.prototype);return t.__wbg_ptr=e,N.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_signaturerequesthandle_free(e,0)}signatureText(){return _.signaturerequesthandle_signatureText(this.__wbg_ptr)}addScwSignature(e,t,r,o){return _.signaturerequesthandle_addScwSignature(this.__wbg_ptr,e,t,r,!c(o),c(o)?BigInt(0):o)}addEcdsaSignature(e){return _.signaturerequesthandle_addEcdsaSignature(this.__wbg_ptr,e)}addPasskeySignature(e){return _.signaturerequesthandle_addPasskeySignature(this.__wbg_ptr,e)}}Symbol.dispose&&(S.prototype[Symbol.dispose]=S.prototype.free);const H=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_streamcloser_free(n>>>0,1));class m{static __wrap(e){e=e>>>0;const t=Object.create(m.prototype);return t.__wbg_ptr=e,H.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,H.unregister(this),e}free(){const e=this.__destroy_into_raw();_.__wbg_streamcloser_free(e,0)}endAndWait(){return _.streamcloser_endAndWait(this.__wbg_ptr)}waitForReady(){return _.streamcloser_waitForReady(this.__wbg_ptr)}end(){_.streamcloser_end(this.__wbg_ptr)}isClosed(){return _.streamcloser_isClosed(this.__wbg_ptr)!==0}}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free);const le=new Set(["basic","cors","default"]);async function pe(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(r){if(n.ok&&le.has(n.type)&&n.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function he(){const n={};return n.wbg={},n.wbg.__wbg_Error_e83987f665cf5504=function(e,t){return Error(g(e,t))},n.wbg.__wbg_Number_bb48ca12f395cd08=function(e){return Number(e)},n.wbg.__wbg_String_8f0eb39a4a4c2f66=function(e,t){const r=String(t),o=f(r,_.__wbindgen_malloc,_.__wbindgen_realloc),s=i;l().setInt32(e+4,s,!0),l().setInt32(e+0,o,!0)},n.wbg.__wbg___wbindgen_bigint_get_as_i64_f3ebc5a755000afd=function(e,t){const r=t,o=typeof r=="bigint"?r:void 0;l().setBigInt64(e+8,c(o)?BigInt(0):o,!0),l().setInt32(e+0,!c(o),!0)},n.wbg.__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68=function(e){const t=e,r=typeof t=="boolean"?t:void 0;return c(r)?16777215:r?1:0},n.wbg.__wbg___wbindgen_debug_string_df47ffb5e35e6763=function(e,t){const r=z(t),o=f(r,_.__wbindgen_malloc,_.__wbindgen_realloc),s=i;l().setInt32(e+4,s,!0),l().setInt32(e+0,o,!0)},n.wbg.__wbg___wbindgen_in_bb933bd9e1b3bc0f=function(e,t){return e in t},n.wbg.__wbg___wbindgen_is_bigint_cb320707dcd35f0b=function(e){return typeof e=="bigint"},n.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return typeof e=="function"},n.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){const t=e;return typeof t=="object"&&t!==null},n.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return typeof e=="string"},n.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return e===void 0},n.wbg.__wbg___wbindgen_jsval_eq_6b13ab83478b1c50=function(e,t){return e===t},n.wbg.__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147=function(e,t){return e==t},n.wbg.__wbg___wbindgen_number_get_a20bf9b85341449d=function(e,t){const r=t,o=typeof r=="number"?r:void 0;l().setFloat64(e+8,c(o)?0:o,!0),l().setInt32(e+0,!c(o),!0)},n.wbg.__wbg___wbindgen_string_get_e4f06c90489ad01b=function(e,t){const r=t,o=typeof r=="string"?r:void 0;var s=c(o)?0:f(o,_.__wbindgen_malloc,_.__wbindgen_realloc),u=i;l().setInt32(e+4,u,!0),l().setInt32(e+0,s,!0)},n.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,t){throw new Error(g(e,t))},n.wbg.__wbg___wbindgen_try_into_number_e60ef6e208abc399=function(e){let t;try{t=+e}catch(o){t=o}return t},n.wbg.__wbg__wbg_cb_unref_2454a539ea5790d9=function(e){e._wbg_cb_unref()},n.wbg.__wbg_abort_28ad55c5825b004d=function(e,t){e.abort(t)},n.wbg.__wbg_abort_e7eb059f72f9ed0c=function(e){e.abort()},n.wbg.__wbg_append_b577eb3a177bc0fa=function(){return b(function(e,t,r,o,s){e.append(g(t,r),g(o,s))},arguments)},n.wbg.__wbg_arrayBuffer_b375eccb84b4ddf3=function(){return b(function(e){return e.arrayBuffer()},arguments)},n.wbg.__wbg_body_587542b2fd8e06c0=function(e){const t=e.body;return c(t)?0:w(t)},n.wbg.__wbg_buffer_ccc4520b36d3ccf4=function(e){return e.buffer},n.wbg.__wbg_byobRequest_2344e6975f27456e=function(e){const t=e.byobRequest;return c(t)?0:w(t)},n.wbg.__wbg_byteLength_bcd42e4025299788=function(e){return e.byteLength},n.wbg.__wbg_byteOffset_ca3a6cf7944b364b=function(e){return e.byteOffset},n.wbg.__wbg_call_525440f72fbfc0ea=function(){return b(function(e,t,r){return e.call(t,r)},arguments)},n.wbg.__wbg_call_e762c39fa8ea36bf=function(){return b(function(e,t){return e.call(t)},arguments)},n.wbg.__wbg_cancel_48ab6f9dc366e369=function(e){return e.cancel()},n.wbg.__wbg_catch_943836faa5d29bfb=function(e,t){return e.catch(t)},n.wbg.__wbg_clearInterval_dd1e598f425db353=function(e){return clearInterval(e)},n.wbg.__wbg_clearTimeout_2e2c4939388cdfbb=function(e){return clearTimeout(e)},n.wbg.__wbg_clearTimeout_5a54f8841c30079a=function(e){return clearTimeout(e)},n.wbg.__wbg_clearTimeout_7a42b49784aea641=function(e){return clearTimeout(e)},n.wbg.__wbg_client_new=function(e){return D.__wrap(e)},n.wbg.__wbg_close_5a6caed3231b68cd=function(){return b(function(e){e.close()},arguments)},n.wbg.__wbg_close_6956df845478561a=function(){return b(function(e){e.close()},arguments)},n.wbg.__wbg_close_6b987dbb02427741=function(e){e.close()},n.wbg.__wbg_code_218f5fdf8c7fcabd=function(e){return e.code},n.wbg.__wbg_conversation_new=function(e){return h.__wrap(e)},n.wbg.__wbg_conversationlistitem_new=function(e){return T.__wrap(e)},n.wbg.__wbg_createSyncAccessHandle_63bd856e74273e32=function(e){return e.createSyncAccessHandle()},n.wbg.__wbg_create_f2b6bfa66a83e88e=function(e){return Object.create(e)},n.wbg.__wbg_crypto_574e78ad8b13b65f=function(e){return e.crypto},n.wbg.__wbg_debug_e55e1461940eb14d=function(e,t,r,o){console.debug(e,t,r,o)},n.wbg.__wbg_debug_f4b0c59db649db48=function(e){console.debug(e)},n.wbg.__wbg_done_2042aa2670fb1db1=function(e){return e.done},n.wbg.__wbg_enqueue_7b18a650aec77898=function(){return b(function(e,t){e.enqueue(t)},arguments)},n.wbg.__wbg_entries_a1e792d46512c8bf=function(e){return e.entries()},n.wbg.__wbg_entries_e171b586f8f6bdbf=function(e){return Object.entries(e)},n.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let r,o;try{r=e,o=t,console.error(g(e,t))}finally{_.__wbindgen_free(r,o,1)}},n.wbg.__wbg_error_a7f8fbb0523dae15=function(e){console.error(e)},n.wbg.__wbg_error_d8b22cf4e59a6791=function(e,t,r,o){console.error(e,t,r,o)},n.wbg.__wbg_error_e98c298703cffa97=function(e,t){console.error(g(e,t))},n.wbg.__wbg_fetch_53eef7df7b439a49=function(e,t){return fetch(e,t)},n.wbg.__wbg_fetch_74a3e84ebd2c9a0e=function(e){return fetch(e)},n.wbg.__wbg_fetch_8725865ff47e7fcc=function(e,t,r){return e.fetch(t,r)},n.wbg.__wbg_fetch_f8ba0e29a9d6de0d=function(e,t){return e.fetch(t)},n.wbg.__wbg_fill_f6f1b48c9e4bb626=function(e,t,r,o){return e.fill(t,r>>>0,o>>>0)},n.wbg.__wbg_flush_b49c3916f841ba87=function(){return b(function(e){e.flush()},arguments)},n.wbg.__wbg_from_a4ad7cbddd0d7135=function(e){return Array.from(e)},n.wbg.__wbg_getDate_5a70d2f6a482d99f=function(e){return e.getDate()},n.wbg.__wbg_getDay_a150a3fd757619d1=function(e){return e.getDay()},n.wbg.__wbg_getDirectoryHandle_45b9305ebb42f05a=function(e,t,r,o){return e.getDirectoryHandle(g(t,r),o)},n.wbg.__wbg_getDirectory_7e7a55f640412401=function(e){return e.getDirectory()},n.wbg.__wbg_getFileHandle_acd9b5e4404b60dd=function(e,t,r,o){return e.getFileHandle(g(t,r),o)},n.wbg.__wbg_getFullYear_8240d5a15191feae=function(e){return e.getFullYear()},n.wbg.__wbg_getHours_5e476e0b9ebc42d1=function(e){return e.getHours()},n.wbg.__wbg_getMinutes_c95dfb65f1ea8f02=function(e){return e.getMinutes()},n.wbg.__wbg_getMonth_25c1c5a601d72773=function(e){return e.getMonth()},n.wbg.__wbg_getRandomValues_1c61fac11405ffdc=function(){return b(function(e,t){globalThis.crypto.getRandomValues(F(e,t))},arguments)},n.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return b(function(e,t){e.getRandomValues(t)},arguments)},n.wbg.__wbg_getRandomValues_d8c71ea8f97a0b46=function(){return b(function(e,t){globalThis.crypto.getRandomValues(F(e,t))},arguments)},n.wbg.__wbg_getReader_48e00749fe3f6089=function(){return b(function(e){return e.getReader()},arguments)},n.wbg.__wbg_getSeconds_8113bf8709718eb2=function(e){return e.getSeconds()},n.wbg.__wbg_getSize_f43fed70ca1762f1=function(){return b(function(e){return e.getSize()},arguments)},n.wbg.__wbg_getTime_14776bfb48a1bff9=function(e){return e.getTime()},n.wbg.__wbg_getTimezoneOffset_d391cb11d54969f8=function(e){return e.getTimezoneOffset()},n.wbg.__wbg_getUint32_741d4a7dc32fc0d5=function(e,t){return e.getUint32(t>>>0)},n.wbg.__wbg_get_7bed016f185add81=function(e,t){return e[t>>>0]},n.wbg.__wbg_get_done_a0463af43a1fc764=function(e){const t=e.done;return c(t)?16777215:t?1:0},n.wbg.__wbg_get_efcb449f58ec27c2=function(){return b(function(e,t){return Reflect.get(e,t)},arguments)},n.wbg.__wbg_get_index_af1d9818a935f6ae=function(e,t){return e[t>>>0]},n.wbg.__wbg_get_value_5ce96c9f81ce7398=function(e){return e.value},n.wbg.__wbg_get_with_ref_key_1dc361bd10053bfe=function(e,t){return e[t]},n.wbg.__wbg_has_787fafc980c3ccdb=function(){return b(function(e,t){return Reflect.has(e,t)},arguments)},n.wbg.__wbg_headers_b87d7eaba61c3278=function(e){return e.headers},n.wbg.__wbg_info_68cd5b51ef7e5137=function(e,t,r,o){console.info(e,t,r,o)},n.wbg.__wbg_info_e674a11f4f50cc0c=function(e){console.info(e)},n.wbg.__wbg_instanceof_ArrayBuffer_70beb1189ca63b38=function(e){let t;try{t=e instanceof ArrayBuffer}catch{t=!1}return t},n.wbg.__wbg_instanceof_DomException_83b15e7b042a0b1a=function(e){let t;try{t=e instanceof DOMException}catch{t=!1}return t},n.wbg.__wbg_instanceof_Map_8579b5e2ab5437c7=function(e){let t;try{t=e instanceof Map}catch{t=!1}return t},n.wbg.__wbg_instanceof_Response_f4f3e87e07f3135c=function(e){let t;try{t=e instanceof Response}catch{t=!1}return t},n.wbg.__wbg_instanceof_Uint8Array_20c8e73002f7af98=function(e){let t;try{t=e instanceof Uint8Array}catch{t=!1}return t},n.wbg.__wbg_instanceof_WorkerGlobalScope_e31f49b6d33fcadd=function(e){let t;try{t=e instanceof WorkerGlobalScope}catch{t=!1}return t},n.wbg.__wbg_isArray_96e0af9891d0945d=function(e){return Array.isArray(e)},n.wbg.__wbg_isSafeInteger_d216eda7911dde36=function(e){return Number.isSafeInteger(e)},n.wbg.__wbg_iterator_e5822695327a3c39=function(){return Symbol.iterator},n.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},n.wbg.__wbg_length_a95b69f903b746c4=function(e){return e.length},n.wbg.__wbg_length_cdd215e10d9dd507=function(e){return e.length},n.wbg.__wbg_mark_05056c522bddc362=function(){return b(function(e,t,r){e.mark(g(t,r))},arguments)},n.wbg.__wbg_mark_24a1a597f4f00679=function(){return b(function(e,t,r,o){e.mark(g(t,r),o)},arguments)},n.wbg.__wbg_measure_0b7379f5cfacac6d=function(){return b(function(e,t,r,o,s,u,d){e.measure(g(t,r),g(o,s),g(u,d))},arguments)},n.wbg.__wbg_measure_7728846525e2cced=function(){return b(function(e,t,r,o){e.measure(g(t,r),o)},arguments)},n.wbg.__wbg_message_bd42dbe3f2f3ed8e=function(e,t){const r=t.message,o=f(r,_.__wbindgen_malloc,_.__wbindgen_realloc),s=i;l().setInt32(e+4,s,!0),l().setInt32(e+0,o,!0)},n.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(e){return e.msCrypto},n.wbg.__wbg_name_3a33ad25b892b2dd=function(e,t){const r=t.name,o=f(r,_.__wbindgen_malloc,_.__wbindgen_realloc),s=i;l().setInt32(e+4,s,!0),l().setInt32(e+0,o,!0)},n.wbg.__wbg_navigator_ae06f1666ea7c968=function(e){return e.navigator},n.wbg.__wbg_new_0_f9740686d739025c=function(){return new Date},n.wbg.__wbg_new_1acc0b6eea89d040=function(){return new Object},n.wbg.__wbg_new_1c342efbe54a5bfd=function(e,t,r){return new DataView(e,t>>>0,r>>>0)},n.wbg.__wbg_new_2531773dac38ebb3=function(){return b(function(){return new AbortController},arguments)},n.wbg.__wbg_new_3c3d849046688a66=function(e,t){try{var r={a:e,b:t},o=(u,d)=>{const I=r.a;r.a=0;try{return be(I,r.b,u,d)}finally{r.a=I}};return new Promise(o)}finally{r.a=r.b=0}},n.wbg.__wbg_new_5a79be3ab53b8aa5=function(e){return new Uint8Array(e)},n.wbg.__wbg_new_68651c719dcda04e=function(){return new Map},n.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},n.wbg.__wbg_new_93d9417ed3fb115d=function(e){return new Date(e)},n.wbg.__wbg_new_9edf9838a2def39c=function(){return b(function(){return new Headers},arguments)},n.wbg.__wbg_new_a7442b4b19c1a356=function(e,t){return new Error(g(e,t))},n.wbg.__wbg_new_e17d9f43105b08be=function(){return new Array},n.wbg.__wbg_new_from_slice_92f4d78ca282a2d2=function(e,t){return new Uint8Array(F(e,t))},n.wbg.__wbg_new_no_args_ee98eee5275000a4=function(e,t){return new Function(g(e,t))},n.wbg.__wbg_new_with_byte_offset_and_length_46e3e6a5e9f9e89b=function(e,t,r){return new Uint8Array(e,t>>>0,r>>>0)},n.wbg.__wbg_new_with_into_underlying_source_b47f6a6a596a7f24=function(e,t){return new ReadableStream(q.__wrap(e),t)},n.wbg.__wbg_new_with_length_01aa0dc35aa13543=function(e){return new Uint8Array(e>>>0)},n.wbg.__wbg_new_with_str_and_init_0ae7728b6ec367b1=function(){return b(function(e,t,r){return new Request(g(e,t),r)},arguments)},n.wbg.__wbg_new_with_year_month_day_6236812cf591750d=function(e,t,r){return new Date(e>>>0,t,r)},n.wbg.__wbg_next_020810e0ae8ebcb0=function(){return b(function(e){return e.next()},arguments)},n.wbg.__wbg_next_2c826fe5dfec6b6a=function(e){return e.next},n.wbg.__wbg_next_eedaffcadc567b75=function(){return b(function(e){return e.next()},arguments)},n.wbg.__wbg_node_905d3e251edff8a2=function(e){return e.node},n.wbg.__wbg_now_2c95c9de01293173=function(e){return e.now()},n.wbg.__wbg_now_793306c526e2e3b6=function(){return Date.now()},n.wbg.__wbg_on_auth_required_bd4fddb2d64ca1f6=function(){return b(function(e){return e.on_auth_required()},arguments)},n.wbg.__wbg_on_close_b7db71fe8139a5f0=function(e){e.on_close()},n.wbg.__wbg_on_consent_update_f646a191e881f57d=function(e,t){e.on_consent_update(t)},n.wbg.__wbg_on_conversation_9187414aca96940c=function(e,t){e.on_conversation(h.__wrap(t))},n.wbg.__wbg_on_error_c58307424c85aaf5=function(e,t){e.on_error(t)},n.wbg.__wbg_on_message_b60ee485d291967a=function(e,t){e.on_message(t)},n.wbg.__wbg_on_message_deleted_dc9cf7d3b9aefde7=function(e,t,r){let o,s;try{o=t,s=r,e.on_message_deleted(g(t,r))}finally{_.__wbindgen_free(o,s,1)}},n.wbg.__wbg_on_user_preference_update_82574376a4af8566=function(e,t,r){var o=y(t,r).slice();_.__wbindgen_free(t,r*4,4),e.on_user_preference_update(o)},n.wbg.__wbg_performance_121b9855d716e029=function(){return globalThis.performance},n.wbg.__wbg_performance_7a3ffd0b17f663ad=function(e){return e.performance},n.wbg.__wbg_postMessage_de7175726e2c1bc7=function(){return b(function(e,t){e.postMessage(t)},arguments)},n.wbg.__wbg_process_dc0fbacc7c1c06f7=function(e){return e.process},n.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,t,r){Uint8Array.prototype.set.call(F(e,t),r)},n.wbg.__wbg_push_df81a39d04db858c=function(e,t){return e.push(t)},n.wbg.__wbg_queueMicrotask_34d692c25c47d05b=function(e){return e.queueMicrotask},n.wbg.__wbg_queueMicrotask_9d76cacb20c84d58=function(e){queueMicrotask(e)},n.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return b(function(e,t){e.randomFillSync(t)},arguments)},n.wbg.__wbg_random_babe96ffc73e60a2=function(){return Math.random()},n.wbg.__wbg_read_48f1593df542f968=function(e){return e.read()},n.wbg.__wbg_read_e2b5efb864451cae=function(){return b(function(e,t,r){return e.read(t,r)},arguments)},n.wbg.__wbg_read_f7d59b68d039d64d=function(){return b(function(e,t,r,o){return e.read(F(t,r),o)},arguments)},n.wbg.__wbg_releaseLock_5d0b5a68887b891d=function(e){e.releaseLock()},n.wbg.__wbg_require_60cc747a6bc5215a=function(){return b(function(){return module.require},arguments)},n.wbg.__wbg_resolve_caf97c30b83f7053=function(e){return Promise.resolve(e)},n.wbg.__wbg_respond_0f4dbf5386f5c73e=function(){return b(function(e,t){e.respond(t>>>0)},arguments)},n.wbg.__wbg_setInterval_ed3b5e3c3ebb8a6d=function(){return b(function(e,t){return setInterval(e,t)},arguments)},n.wbg.__wbg_setTimeout_7bb3429662ab1e70=function(e,t){return setTimeout(e,t)},n.wbg.__wbg_setTimeout_8f06012fba12034e=function(e,t){globalThis.setTimeout(e,t)},n.wbg.__wbg_setTimeout_929c97a7c0f23d36=function(e,t){return setTimeout(e,t)},n.wbg.__wbg_setTimeout_db2dbaeefb6f39c7=function(){return b(function(e,t){return setTimeout(e,t)},arguments)},n.wbg.__wbg_setUint32_7c19a62c08deac62=function(e,t,r){e.setUint32(t>>>0,r>>>0)},n.wbg.__wbg_set_3f1d0b984ed272ed=function(e,t,r){e[t]=r},n.wbg.__wbg_set_8b342d8cd9d2a02c=function(){return b(function(e,t,r,o,s){e.set(g(t,r),g(o,s))},arguments)},n.wbg.__wbg_set_907fb406c34a251d=function(e,t,r){return e.set(t,r)},n.wbg.__wbg_set_9e6516df7b7d0f19=function(e,t,r){e.set(F(t,r))},n.wbg.__wbg_set_at_ec187fadbab331e2=function(e,t){e.at=t},n.wbg.__wbg_set_body_3c365989753d61f4=function(e,t){e.body=t},n.wbg.__wbg_set_c213c871859d6500=function(e,t,r){e[t>>>0]=r},n.wbg.__wbg_set_c2abbebe8b9ebee1=function(){return b(function(e,t,r){return Reflect.set(e,t,r)},arguments)},n.wbg.__wbg_set_cache_2f9deb19b92b81e3=function(e,t){e.cache=ue[t]},n.wbg.__wbg_set_create_89d91caa5a7a3a2b=function(e,t){e.create=t!==0},n.wbg.__wbg_set_create_cd6996d11cc76544=function(e,t){e.create=t!==0},n.wbg.__wbg_set_credentials_f621cd2d85c0c228=function(e,t){e.credentials=fe[t]},n.wbg.__wbg_set_headers_6926da238cd32ee4=function(e,t){e.headers=t},n.wbg.__wbg_set_high_water_mark_5142ac1d2fb46365=function(e,t){e.highWaterMark=t},n.wbg.__wbg_set_integrity_62a46fc792832f41=function(e,t,r){e.integrity=g(t,r)},n.wbg.__wbg_set_method_c02d8cbbe204ac2d=function(e,t,r){e.method=g(t,r)},n.wbg.__wbg_set_mode_52ef73cfa79639cb=function(e,t){e.mode=we[t]},n.wbg.__wbg_set_redirect_df0285496ec45ff8=function(e,t){e.redirect=de[t]},n.wbg.__wbg_set_referrer_ec9cf8a8a315d50c=function(e,t,r){e.referrer=g(t,r)},n.wbg.__wbg_set_referrer_policy_99c1f299b4e37446=function(e,t){e.referrerPolicy=ge[t]},n.wbg.__wbg_set_signal_dda2cf7ccb6bee0f=function(e,t){e.signal=t},n.wbg.__wbg_signal_4db5aa055bf9eb9a=function(e){return e.signal},n.wbg.__wbg_signaturerequesthandle_new=function(e){return S.__wrap(e)},n.wbg.__wbg_slice_3e7e2fc0da7cc625=function(e,t,r){return e.slice(t>>>0,r>>>0)},n.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const r=t.stack,o=f(r,_.__wbindgen_malloc,_.__wbindgen_realloc),s=i;l().setInt32(e+4,s,!0),l().setInt32(e+0,o,!0)},n.wbg.__wbg_static_accessor_GLOBAL_89e1d9ac6a1b250e=function(){const e=typeof global>"u"?null:global;return c(e)?0:w(e)},n.wbg.__wbg_static_accessor_GLOBAL_THIS_8b530f326a9e48ac=function(){const e=typeof globalThis>"u"?null:globalThis;return c(e)?0:w(e)},n.wbg.__wbg_static_accessor_SELF_6fdf4b64710cc91b=function(){const e=typeof self>"u"?null:self;return c(e)?0:w(e)},n.wbg.__wbg_static_accessor_WINDOW_b45bfc5a37f6cfa2=function(){const e=typeof window>"u"?null:window;return c(e)?0:w(e)},n.wbg.__wbg_status_de7eed5a7a5bfd5d=function(e){return e.status},n.wbg.__wbg_storage_2fd28cd0598c9a9b=function(e){return e.storage},n.wbg.__wbg_stringify_b5fb28f6465d9c3e=function(){return b(function(e){return JSON.stringify(e)},arguments)},n.wbg.__wbg_subarray_480600f3d6a9f26c=function(e,t,r){return e.subarray(t>>>0,r>>>0)},n.wbg.__wbg_text_dc33c15c17bdfb52=function(){return b(function(e){return e.text()},arguments)},n.wbg.__wbg_then_4f46f6544e6b4a28=function(e,t){return e.then(t)},n.wbg.__wbg_then_70d05cf780a18d77=function(e,t,r){return e.then(t,r)},n.wbg.__wbg_toString_331854e6e3c16849=function(){return b(function(e,t){return e.toString(t)},arguments)},n.wbg.__wbg_toString_7da7c8dbec78fcb8=function(e){return e.toString()},n.wbg.__wbg_truncate_6511a04243d4c36b=function(){return b(function(e,t){e.truncate(t)},arguments)},n.wbg.__wbg_truncate_f99e4636535b6562=function(){return b(function(e,t){e.truncate(t>>>0)},arguments)},n.wbg.__wbg_url_b36d2a5008eb056f=function(e,t){const r=t.url,o=f(r,_.__wbindgen_malloc,_.__wbindgen_realloc),s=i;l().setInt32(e+4,s,!0),l().setInt32(e+0,o,!0)},n.wbg.__wbg_value_692627309814bb8c=function(e){return e.value},n.wbg.__wbg_versions_c01dfd4722a88165=function(e){return e.versions},n.wbg.__wbg_view_f6c15ac9fed63bbd=function(e){const t=e.view;return c(t)?0:w(t)},n.wbg.__wbg_warn_1d74dddbe2fd1dbb=function(e){console.warn(e)},n.wbg.__wbg_warn_8f5b5437666d0885=function(e,t,r,o){console.warn(e,t,r,o)},n.wbg.__wbg_write_0c22b53589bfcada=function(){return b(function(e,t,r,o){return e.write(F(t,r),o)},arguments)},n.wbg.__wbg_write_5c1be3e4039a6ed1=function(){return b(function(e,t,r){return e.write(t,r)},arguments)},n.wbg.__wbindgen_cast_173fbbcd3a731426=function(e,t){return E(e,t,_.wasm_bindgen__closure__destroy__hed8af60076250245,se)},n.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return g(e,t)},n.wbg.__wbindgen_cast_25a0a844437d0e92=function(e,t){var r=y(e,t).slice();return _.__wbindgen_free(e,t*4,4),r},n.wbg.__wbindgen_cast_2900838d07f16ff6=function(e,t){return E(e,t,_.wasm_bindgen__closure__destroy__hfbd660e60d498df9,ie)},n.wbg.__wbindgen_cast_3ab6bb23fa77e709=function(e,t){return E(e,t,_.wasm_bindgen__closure__destroy__h3c5639ee43c80f22,ae)},n.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},n.wbg.__wbindgen_cast_4a7a1cd401354e65=function(e,t){var r=y(e,t).slice();return _.__wbindgen_free(e,t*4,4),r},n.wbg.__wbindgen_cast_8e37b4ad2f2ba653=function(e,t){var r=y(e,t).slice();return _.__wbindgen_free(e,t*4,4),r},n.wbg.__wbindgen_cast_998222446b91a002=function(e,t){var r=y(e,t).slice();return _.__wbindgen_free(e,t*4,4),r},n.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},n.wbg.__wbindgen_cast_cb9088102bce6b30=function(e,t){return F(e,t)},n.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},n.wbg.__wbindgen_cast_e081be35fe620ec4=function(e,t){var r=y(e,t).slice();return _.__wbindgen_free(e,t*4,4),r},n.wbg.__wbindgen_cast_f20a506f31063fd0=function(e,t){var r=y(e,t).slice();return _.__wbindgen_free(e,t*4,4),r},n.wbg.__wbindgen_cast_f22164ae3d0f310b=function(e,t){return E(e,t,_.wasm_bindgen__closure__destroy__he7b712e0eb1b5ac1,ce)},n.wbg.__wbindgen_init_externref_table=function(){const e=_.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},n}function me(n,e){return _=n.exports,K.__wbindgen_wasm_module=e,R=null,x=null,_.__wbindgen_start(),_}async function K(n){if(_!==void 0)return _;typeof n<"u"&&(Object.getPrototypeOf(n)===Object.prototype?{module_or_path:n}=n:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof n>"u"&&(n=new URL(""+new URL("bindings_wasm_bg-B-5N5IsC.wasm",self.location.href).href,self.location.href));const e=he();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await pe(await n,e);return me(t,r)}class ye extends Error{constructor(){super("OPFS must be initialized before accessing its methods")}}class ve extends Error{constructor(){super("Failed to initialize OPFS, ensure that there are no other active XMTP clients or Opfs instances")}}let W=!1,$=!1;const v=n=>{self.postMessage(n)};self.onmessage=async n=>{var o;const{action:e,id:t,data:r}=n.data;await K();try{if(e==="opfs.init"&&!W){try{await _e()}catch{throw new ve}W=!0,$=(o=r.enableLogging)!=null?o:!1,v({id:t,action:e,result:void 0})}if($&&console.log("[worker] worker received event data",n.data),e==="opfs.init")return;if(!W)throw new ye;switch(e){case"opfs.listFiles":{const s=await oe();return void v({id:t,action:e,result:s})}case"opfs.fileCount":{const s=await Z();return void v({id:t,action:e,result:s})}case"opfs.poolCapacity":{const s=await X();return void v({id:t,action:e,result:s})}case"opfs.fileExists":{const s=await ee(r.path);return void v({id:t,action:e,result:s})}case"opfs.deleteFile":{const s=await te(r.path);return void v({id:t,action:e,result:s})}case"opfs.exportDb":{const s=await re(r.path);return void v({id:t,action:e,result:s})}case"opfs.importDb":return await ne(r.path,r.data),void v({id:t,action:e,result:void 0});case"opfs.clearAll":return await Q(),void v({id:t,action:e,result:void 0})}}catch(s){(u=>{self.postMessage(u)})({id:t,action:e,error:s})}}})();
