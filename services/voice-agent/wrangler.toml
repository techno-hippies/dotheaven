name = "voice-agent"
main = "src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

[vars]
# LLM provider (Groq direct â€” no OpenRouter hop)
LLM_BASE_URL = "https://api.groq.com/openai/v1"
LLM_MODEL = "moonshotai/kimi-k2-instruct-0905"
# Agora
AGORA_REST_BASE = "https://api.agora.io"
AGORA_CUSTOM_LLM_BEARER_PREFIX = "neo_"
# Music-social subgraph
SUBGRAPH_URL = "https://graph.dotheaven.org/subgraphs/name/dotheaven/music-social-tempo"

[[d1_databases]]
binding = "DB"
# D1 uses capability label.
database_name = "voice-agent"
database_id = "8b7da1ee-79fb-4229-9896-79d8fe82d1b4"

# Secrets (set via `wrangler secret put`):
# JWT_SECRET, LLM_API_KEY, AGORA_APP_ID, AGORA_APP_CERT, AGORA_REST_AUTH
# ELEVENLABS_API_KEY, HONCHO_API_KEY, PSEUDONYM_SECRET
