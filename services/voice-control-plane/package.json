{
  "name": "voice-control-plane-service",
  "version": "2.0.0",
  "type": "module",
  "scripts": {
    "dev": "wrangler dev",
    "deploy": "wrangler deploy",
    "migrate:local": "wrangler d1 execute ${VOICE_CONTROL_PLANE_D1_DATABASE:-${D1_DATABASE:-session-voice}} --local --file=migrations/0001_credits_rooms.sql && wrangler d1 execute ${VOICE_CONTROL_PLANE_D1_DATABASE:-${D1_DATABASE:-session-voice}} --local --file=migrations/0002_song_registry.sql && wrangler d1 execute ${VOICE_CONTROL_PLANE_D1_DATABASE:-${D1_DATABASE:-session-voice}} --local --file=migrations/0003_duet_discovery.sql",
    "migrate:remote": "wrangler d1 execute ${VOICE_CONTROL_PLANE_D1_DATABASE:-${D1_DATABASE:-session-voice}} --remote --file=migrations/0001_credits_rooms.sql && wrangler d1 execute ${VOICE_CONTROL_PLANE_D1_DATABASE:-${D1_DATABASE:-session-voice}} --remote --file=migrations/0002_song_registry.sql && wrangler d1 execute ${VOICE_CONTROL_PLANE_D1_DATABASE:-${D1_DATABASE:-session-voice}} --remote --file=migrations/0003_duet_discovery.sql",
    "test:smoke": "bun src/smoke-test.ts",
    "test:facilitator": "bun test src/x402-facilitator.test.ts",
    "test:duet:unit": "bun test src/duet-room-do.test.ts src/duet-routes.test.ts",
    "test:rooms": "bun src/smoke-test-rooms.ts",
    "test:visibility": "bun src/smoke-test-visibility.ts",
    "test:duet": "bun src/smoke-test-duet.ts",
    "test:duet:broadcast": "bun src/smoke-test-duet-broadcast.ts",
    "test:duet:broadcast:video": "bun src/smoke-test-duet-broadcast-video.ts",
    "test:duet:self": "bun src/smoke-test-duet-self.ts",
    "test:duet:self:remote": "bun src/smoke-test-duet-self-remote.ts",
    "test:e2e:local": "bun src/e2e-local.ts",
    "test:e2e:local:full": "bun src/e2e-local.ts --full",
    "test:e2e:local:duet:onchain": "bun src/e2e-local.ts --duet-onchain",
    "dev:duet:onchain": "bun src/e2e-local.ts --duet-onchain --serve",
    "seed:song": "bun src/seed-song-registry.ts"
  },
  "dependencies": {
    "agora-token": "^2.0.3",
    "hono": "^4.4.0",
    "viem": "^2.21.0"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20240925.0",
    "@x402/evm": "2.3.1",
    "@x402/fetch": "2.3.0",
    "playwright": "^1.55.0",
    "wrangler": "^3.80.0"
  }
}
