# ── ProfileV2 — Community member directory ─────────────────────────

type Profile @entity(immutable: false) {
  id: ID!                        # user address (lowercase hex)
  profileVersion: Int!

  # basics
  age: Int!                      # 0 = unset
  heightCm: Int!                 # 0 = unset
  nationality: Bytes!            # bytes2 ISO-3166-1 alpha-2

  # languages: raw packed uint256 — frontend unpacks
  languagesPacked: BigInt!

  # bitmask: bit 0=Men, 1=Women, 2=NonBinary
  friendsOpenToMask: Int!

  # commitments / pointers (bytes32)
  locationCityId: Bytes!
  locationLatE6: Int!
  locationLngE6: Int!
  schoolId: Bytes!
  skillsCommit: Bytes!           # packed uint16 tag IDs
  hobbiesCommit: Bytes!          # packed uint16 tag IDs

  # identity
  nameHash: Bytes!
  displayName: String!
  photoURI: String!

  # packed enums (all uint8, stored individually for filtering)
  gender: Int!
  relocate: Int!
  degree: Int!
  fieldBucket: Int!
  profession: Int!
  industry: Int!
  relationshipStatus: Int!
  sexuality: Int!
  ethnicity: Int!
  datingStyle: Int!
  children: Int!
  wantsChildren: Int!
  drinking: Int!
  smoking: Int!
  drugs: Int!
  lookingFor: Int!
  religion: Int!
  pets: Int!
  diet: Int!

  # metadata
  createdAt: BigInt!             # first profile creation timestamp
  updatedAt: BigInt!             # last update timestamp
  blockNumber: BigInt!
  transactionHash: Bytes!
}
